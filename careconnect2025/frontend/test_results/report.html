<!DOCTYPE html>
<html>
<head>
    <title>CareConnect Test Report</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .header { background: #2196F3; color: white; padding: 20px; border-radius: 8px; }
        .section { background: white; padding: 20px; margin: 20px 0; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        .test-file { background: #f8f9fa; padding: 8px; margin: 4px 0; border-left: 4px solid #28a745; font-family: monospace; }
        .stats { display: flex; justify-content: space-around; text-align: center; }
        .stat { padding: 10px; }
        .stat-number { font-size: 24px; font-weight: bold; color: #2196F3; }
    </style>
</head>
<body>
    <div class="header">
        <h1>🧪 CareConnect Test Report</h1>
        <p>Generated: Sat Jul  5 12:37:00 EDT 2025</p>
    </div>
    
    <div class="section">
        <h2>📊 Summary</h2>
        <div class="stats">
            <div class="stat">
                <div class="stat-number">      23</div>
                <div>Test Files</div>
            </div>
            <div class="stat">
                <div class="stat-number" style="color: #28a745;">0</div>
                <div>Passed</div>
            </div>
            <div class="stat">
                <div class="stat-number" style="color: #dc3545;">0</div>
                <div>Failed</div>
            </div>
            <div class="stat">
                <div class="stat-number" style="color: #ffc107;">0</div>
                <div>Skipped</div>
            </div>
        </div>
    </div>
    
    <div class="section">
        <h2>📋 All Test Files</h2>
        <div class="test-file">analytics_filter_test.dart</div>
        <div class="test-file">jwt_token_test.dart</div>
        <div class="test-file">simple_test.dart</div>
        <div class="test-file">responsive_layout_test.dart</div>
        <div class="test-file">jwt_auth_simple_test.dart</div>
        <div class="test-file">auth_and_backend_test.dart</div>
        <div class="test-file">patient_registration_test.dart</div>
        <div class="test-file">analytics_page_test.dart</div>
        <div class="test-file">ai_chat_widget_test.dart</div>
        <div class="test-file">multi_model_ai_test.dart</div>
        <div class="test-file">api_key_validation_test.dart</div>
        <div class="test-file">ai_service_debug_test.dart</div>
        <div class="test-file">caregiver_dashboard_test.dart</div>
        <div class="test-file">caregiver_dashboard_simple_test.dart</div>
        <div class="test-file">jwt_auth_test.dart</div>
        <div class="test-file">responsive_layout_test_new.dart</div>
        <div class="test-file">ai_analytics_integration_test_new.dart</div>
        <div class="test-file">widget_test.dart</div>
        <div class="test-file">enhanced_ai_chat_test.dart</div>
        <div class="test-file">backend_connectivity_simple_test.dart</div>
        <div class="test-file">ai_analytics_integration_test.dart</div>
        <div class="test-file">patient_dashboard_name_test.dart</div>
        <div class="test-file">backend_connectivity_test.dart</div>
    </div>
    
    <div class="section">
        <h2>� Test Results Details</h2>
        <div id="test-results-content">
            <p>Loading test results...</p>
        </div>
    </div>
    
    <div class="section">
        <h2>🔗 Raw Data Files</h2>
        <p><a href="test_results.json" target="_blank">📄 Raw JSON Test Results</a></p>
        <p><a href="test_coverage.txt" target="_blank">📈 Coverage Output</a></p>
        <p><a href="all_tests.txt" target="_blank">📝 All Test Files List</a></p>
    </div>
    
    <script>
        // Load and display test results
        fetch('test_results.json')
            .then(response => response.text())
            .then(data => {
                const container = document.getElementById('test-results-content');
                
                try {
                    // Try to parse as JSON
                    const jsonData = JSON.parse(data);
                    
                    // Display formatted JSON
                    container.innerHTML = '<pre style="background: #f8f9fa; padding: 15px; border-radius: 5px; overflow-x: auto;">' + 
                                        JSON.stringify(jsonData, null, 2) + '</pre>';
                } catch (e) {
                    // If not valid JSON, display as text
                    container.innerHTML = '<pre style="background: #f8f9fa; padding: 15px; border-radius: 5px; overflow-x: auto;">' + 
                                        data + '</pre>';
                }
            })
            .catch(error => {
                document.getElementById('test-results-content').innerHTML = 
                    '<p style="color: #dc3545;">❌ Error loading test results: ' + error.message + '</p>';
            });
    </script>
</body>
</html>
